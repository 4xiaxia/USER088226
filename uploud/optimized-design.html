<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ‘å®˜æ™ºèƒ½ä½“ - ä¼˜åŒ–ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-8px);
        }
      }
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px) scale(0.8);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }
      @keyframes slideInFromCorner {
        from {
          opacity: 0;
          transform: scale(0.3) rotate(10deg);
        }
        to {
          opacity: 1;
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.8;
        }
      }

      .float {
        animation: float 4s ease-in-out infinite;
      }
      .pulse {
        animation: pulse 3s ease-in-out infinite;
      }
      .fade-in-up {
        animation: fadeInUp 0.8s ease-out forwards;
      }
      .slide-in-corner {
        animation: slideInFromCorner 0.8s ease-out forwards;
      }

      /* Landingé£æ ¼çš„å…¨å±€çº¦æŸæ¡†æ¶ */
      .app-container {
        max-width: 414px;
        margin: 0 auto;
        min-height: 100vh;
        position: relative;
        background: linear-gradient(135deg, #ecfdf5 0%, #ffffff 50%, #f0fdfa 100%);
        box-shadow: 0 0 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      /* èŠå¤©çª—å£ - ç®€åŒ–ç‰ˆ */
      .chat-window {
        position: absolute;
        bottom: 140px;
        left: 50%;
        transform: translateX(-50%);
        width: 300px;
        max-width: calc(100% - 40px);
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border-radius: 25px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        border: 1px solid rgba(16, 185, 129, 0.2);
        z-index: 1000;
        padding: 20px;
      }

      .chat-bubble-assistant {
        background: rgba(248, 250, 252, 0.95);
        color: #374151;
        border-radius: 18px 18px 18px 4px;
        padding: 12px 16px;
        margin: 8px 0;
        border: 1px solid rgba(16, 185, 129, 0.2);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        font-size: 14px;
        line-height: 1.5;
      }

      /* è¯æ¡å¼åŠŸèƒ½æ¨¡å— - å›´ç»•Aå”æµ®åŠ¨ */
      .feature-tag {
        position: absolute;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border-radius: 25px;
        padding: 8px 16px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(16, 185, 129, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
        opacity: 0;
        z-index: 999;
        font-size: 13px;
        font-weight: 500;
        color: #374151;
        white-space: nowrap;
      }

      .feature-tag:hover {
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 12px 32px rgba(16, 185, 129, 0.2);
        border-color: rgba(16, 185, 129, 0.4);
      }

      .feature-tag.show {
        opacity: 1;
      }

      /* æ‘å®˜å¤´åƒ - è§†è§‰ç„¦ç‚¹ */
      .village-chief {
        position: absolute;
        top: 120px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1001;
      }

      /* èƒ¶å›Šè¾“å…¥æ¡† - æŒ‰è®¾è®¡å›¾æ ·å¼ */
      .capsule-input {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border-radius: 32px;
        padding: 12px 16px;
        box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);
        border: 1px solid rgba(16, 185, 129, 0.25);
        display: flex;
        align-items: center;
        gap: 12px;
        min-width: 320px;
        max-width: calc(100% - 48px);
      }

      /* è¾“å…¥æ¡†ä¸»ä½“ */
      .text-input {
        flex: 1;
        background: rgba(255, 255, 255, 0.8);
        border: 1px solid rgba(16, 185, 129, 0.3);
        border-radius: 25px;
        padding: 12px 16px;
        font-size: 14px;
        outline: none;
        transition: all 0.3s ease;
      }

      .text-input:focus {
        border-color: rgba(16, 185, 129, 0.6);
        box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        background: rgba(255, 255, 255, 1);
      }

      /* åˆ‡æ¢æŒ‰é’®ç»„ */
      .switch-buttons {
        display: flex;
        gap: 8px;
      }

      .switch-btn {
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 13px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 1px solid rgba(16, 185, 129, 0.3);
        background: rgba(255, 255, 255, 0.8);
        color: #374151;
      }

      .switch-btn.active {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
        border-color: rgba(16, 185, 129, 0.3);
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
      }

      .switch-btn.voice {
        background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
        color: white;
        border: none;
      }

      /* å‘é€æŒ‰é’® */
      .send-btn {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
      }

      .send-btn:hover {
        transform: scale(1.05);
        box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
      }

      /* è·³è¿‡æŒ‰é’® */
      .skip-button {
        position: absolute;
        top: 30px;
        right: 30px;
        z-index: 1002;
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(16, 185, 129, 0.3);
        border-radius: 20px;
        padding: 8px 16px;
        font-size: 12px;
        color: #6b7280;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .skip-button:hover {
        background: rgba(16, 185, 129, 0.1);
        color: #10b981;
      }
    </style>
  </head>
  <body class="bg-gray-50">
    <!-- Landingé£æ ¼çš„å…¨å±€çº¦æŸå®¹å™¨ -->
    <div class="app-container">
      <!-- èƒŒæ™¯è£…é¥° -->
      <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div
          class="absolute top-20 left-10 w-20 h-20 bg-emerald-100 rounded-full opacity-20 float"
        ></div>
        <div
          class="absolute bottom-32 right-16 w-16 h-16 bg-teal-100 rounded-full opacity-30 float"
          style="animation-delay: 1s"
        ></div>
        <div
          class="absolute top-1/2 left-1/4 w-12 h-12 bg-green-100 rounded-full opacity-15 float"
          style="animation-delay: 2s"
        ></div>
      </div>

      <!-- è·³è¿‡æŒ‰é’® -->
      <button class="skip-button" onclick="skipIntroduction()">è·³è¿‡ä»‹ç»</button>

      <!-- æ‘å®˜å¤´åƒåŒºåŸŸ - è§†è§‰ç„¦ç‚¹ -->
      <div class="village-chief" id="villageChief">
        <div class="relative">
          <div
            class="w-28 h-28 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-full p-1 shadow-xl pulse"
          >
            <div class="w-full h-full bg-white rounded-full p-1">
              <video
                src="mp4/gif.mp4"
                class="w-full h-full rounded-full object-cover"
                muted
                loop
                playsinline
                autoplay
                preload="auto"
                onerror="
                  this.parentElement.innerHTML =
                    '<div class=&quot;w-full h-full bg-emerald-100 rounded-full flex items-center justify-center&quot;><span class=&quot;text-2xl&quot;>ğŸ‘¨â€ğŸ’¼</span></div>'
                "
              ></video>
            </div>
          </div>
          <!-- åœ¨çº¿çŠ¶æ€ -->
          <div
            class="absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-2 border-white flex items-center justify-center"
          >
            <div class="w-2 h-2 bg-white rounded-full pulse"></div>
          </div>
        </div>
        <!-- æ‘å®˜åå­— -->
        <div class="text-center mt-3">
          <h3 class="text-xl font-bold text-gray-800">Aå”æ‘å®˜</h3>
          <p class="text-sm text-emerald-600" id="chiefStatus">æ­£åœ¨ä¸ºæ‚¨ä»‹ç»...</p>
        </div>
      </div>

      <!-- èŠå¤©çª—å£ - ç®€åŒ–ç‰ˆï¼Œåªæœ‰2ä¸ªå¯¹è¯ -->
      <div class="chat-window" id="chatWindow">
        <div id="chatContent">
          <!-- å¯¹è¯å†…å®¹ä¼šåŠ¨æ€æ·»åŠ  -->
        </div>
      </div>

      <!-- è¯æ¡å¼åŠŸèƒ½æ¨¡å— - å›´ç»•Aå”æµ®åŠ¨ï¼ŒæŒ‰è®¾è®¡å›¾6ä¸ªæ ‡ç­¾ -->
      <!-- çº¢è‰²ä¹‹æ—… - å·¦ä¸Š -->
      <div class="feature-tag" id="redTourTag" style="top: 180px; left: 80px">ğŸ›ï¸ çº¢è‰²ä¹‹æ—…</div>

      <!-- ä¼´ä½ æ¸¸ä¸œé‡Œ - å³ä¸Š -->
      <div class="feature-tag" id="tourTag" style="top: 160px; right: 60px">ğŸŒ¿ ä¼´ä½ æ¸¸ä¸œé‡Œ</div>

      <!-- èµ°è¿›ä¸œé‡Œ - å·¦ä¸‹ -->
      <div class="feature-tag" id="historyTag" style="bottom: 280px; left: 60px">ğŸ“š èµ°è¿›ä¸œé‡Œ</div>

      <!-- æ‘å­åŠ¨æ€ - å³ä¸‹ -->
      <div class="feature-tag" id="newsTag" style="bottom: 300px; right: 80px">ğŸ“¢ æ‘å­åŠ¨æ€</div>

      <!-- ä¹¡æ‘æœåŠ¡ - å·¦ä¸­ -->
      <div class="feature-tag" id="serviceTag" style="top: 250px; left: 40px">ğŸª ä¹¡æ‘æœåŠ¡</div>

      <!-- æ–‡åŒ–æ´»åŠ¨ - å³ä¸­ -->
      <div class="feature-tag" id="cultureTag" style="top: 270px; right: 40px">ğŸ­ æ–‡åŒ–æ´»åŠ¨</div>

      <!-- èƒ¶å›Šè¾“å…¥æ¡† - æŒ‰è®¾è®¡å›¾æ ·å¼ï¼Œé”®ç›˜|è¯­éŸ³åˆ‡æ¢ -->
      <div class="capsule-input" id="capsuleInput" style="display: none">
        <input
          type="text"
          class="text-input"
          placeholder="å’ŒAå”èŠèŠ..."
          id="textInput"
          onkeypress="handleKeyPress(event)"
        />
        <div class="switch-buttons">
          <button class="switch-btn active" onclick="switchMode('text')" id="textBtn">é”®ç›˜</button>
          <button class="switch-btn voice" onclick="switchMode('voice')" id="voiceBtn">ğŸ¤</button>
        </div>
        <button class="send-btn" onclick="sendMessage()">â¤</button>
      </div>
    </div>

    <script>
      let currentStep = 0;
      let isIntroductionComplete = false;
      let isSkipped = false;

      // ç®€åŒ–çš„ä»‹ç»æ­¥éª¤ - æ˜¾ç¤º6ä¸ªæ ‡ç­¾
      const introductionSteps = [
        {
          message: 'ä½ å¥½ï¼æ¬¢è¿æ¥åˆ°ä¸œé‡Œæ‘ï¼Œæˆ‘æ˜¯Aå”æ‘å®˜ ğŸ˜Š',
          delay: 1000,
          showTags: ['redTourTag', 'tourTag', 'serviceTag'],
        },
        {
          message:
            'æˆ‘å¯ä»¥ä¸ºæ‚¨æä¾›çº¢è‰²ä¹‹æ—…ã€æ¸¸è§ˆå¯¼è§ˆã€æ‘å²ä»‹ç»ã€æœ€æ–°åŠ¨æ€ã€ä¹¡æ‘æœåŠ¡å’Œæ–‡åŒ–æ´»åŠ¨ç­‰æœåŠ¡ï¼Œç‚¹å‡»ä»»æ„æ ‡ç­¾å¼€å§‹ä½“éªŒå§ï¼',
          delay: 4000,
          showTags: ['historyTag', 'newsTag', 'cultureTag'],
          complete: true,
        },
      ];

      // å¼€å§‹ä»‹ç»
      function startIntroduction() {
        if (isSkipped) return;

        introductionSteps.forEach((step, index) => {
          setTimeout(() => {
            if (isSkipped) return;

            addAssistantMessage(step.message);

            // æ˜¾ç¤ºå¯¹åº”çš„åŠŸèƒ½æ ‡ç­¾
            if (step.showTags) {
              setTimeout(() => {
                step.showTags.forEach((tagId) => {
                  showFeatureTag(tagId);
                });
              }, 1000);
            }

            // æ ‡è®°ä»‹ç»å®Œæˆ
            if (step.complete) {
              isIntroductionComplete = true;
              updateChiefStatus();
              showInputArea();
            }
          }, step.delay);
        });
      }

      // è·³è¿‡ä»‹ç»
      function skipIntroduction() {
        isSkipped = true;
        isIntroductionComplete = true;

        // æ¸…ç©ºèŠå¤©å†…å®¹
        document.getElementById('chatContent').innerHTML = '';

        // æ˜¾ç¤ºæ‰€æœ‰åŠŸèƒ½æ ‡ç­¾
        ['redTourTag', 'tourTag', 'historyTag', 'newsTag'].forEach((tagId) => {
          showFeatureTag(tagId);
        });

        // æ›´æ–°çŠ¶æ€
        updateChiefStatus();
        showInputArea();

        // éšè—èŠå¤©çª—å£
        document.getElementById('chatWindow').style.display = 'none';
      }

      // æ˜¾ç¤ºåŠŸèƒ½æ ‡ç­¾
      function showFeatureTag(tagId) {
        const tag = document.getElementById(tagId);
        if (tag) {
          tag.classList.add('show', 'slide-in-corner');

          // æ·»åŠ ç‚¹å‡»äº‹ä»¶
          tag.onclick = () => {
            const tagName = getTagName(tagId);
            handleTagClick(tagName, tagId);
          };
        }
      }

      // æ˜¾ç¤ºè¾“å…¥åŒºåŸŸ
      function showInputArea() {
        setTimeout(() => {
          document.getElementById('capsuleInput').style.display = 'flex';
        }, 2000);
      }

      // åˆ‡æ¢è¾“å…¥æ¨¡å¼
      function switchMode(mode) {
        const textBtn = document.getElementById('textBtn');
        const voiceBtn = document.getElementById('voiceBtn');
        const textInput = document.getElementById('textInput');

        if (mode === 'text') {
          textBtn.classList.add('active');
          voiceBtn.classList.remove('active');
          textInput.style.display = 'block';
          textInput.placeholder = 'å’ŒAå”èŠèŠ...';
        } else {
          textBtn.classList.remove('active');
          voiceBtn.classList.add('active');
          textInput.style.display = 'none';
          // å¯åŠ¨è¯­éŸ³è¯†åˆ«
          startVoiceRecording();
        }
      }

      // å¼€å§‹è¯­éŸ³å½•éŸ³
      function startVoiceRecording() {
        // è¿™é‡Œå¯ä»¥é›†æˆAPI
        alert('ğŸ¤ è¯­éŸ³åŠŸèƒ½å¼€å‘ä¸­...\n\nå°†æ”¯æŒ:\nâ€¢ è¯­éŸ³è½¬æ–‡å­—\nâ€¢ æ–‡å­—è½¬è¯­éŸ³\nâ€¢ å®æ—¶è¯­éŸ³å¯¹è¯');
      }

      // å¤„ç†æ ‡ç­¾ç‚¹å‡»
      function handleTagClick(tagName, tagId) {
        // æ˜¾ç¤ºèŠå¤©çª—å£
        const chatWindow = document.getElementById('chatWindow');
        chatWindow.style.display = 'block';

        // æ¸…ç©ºä¹‹å‰çš„å†…å®¹
        document.getElementById('chatContent').innerHTML = '';

        // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
        addUserMessage(`æˆ‘æƒ³äº†è§£${tagName}`);

        // æ·»åŠ Aå”å›å¤
        setTimeout(() => {
          addAssistantMessage(getTagResponse(tagId));
        }, 1000);
      }

      // æ›´æ–°æ‘å®˜çŠ¶æ€
      function updateChiefStatus() {
        document.getElementById('chiefStatus').textContent = 'éšæ—¶ä¸ºæ‚¨æœåŠ¡';
      }

      // è·å–æ ‡ç­¾åç§°
      function getTagName(tagId) {
        const names = {
          redTourTag: 'çº¢è‰²ä¹‹æ—…',
          tourTag: 'ä¼´ä½ æ¸¸ä¸œé‡Œ',
          historyTag: 'èµ°è¿›ä¸œé‡Œ',
          newsTag: 'æ‘å­åŠ¨æ€',
          serviceTag: 'ä¹¡æ‘æœåŠ¡',
          cultureTag: 'æ–‡åŒ–æ´»åŠ¨',
        };
        return names[tagId] || 'ç›¸å…³æœåŠ¡';
      }

      // è·å–æ ‡ç­¾å›å¤
      function getTagResponse(tagId) {
        const responses = {
          redTourTag:
            'å¤ªå¥½äº†ï¼çº¢è‰²ä¹‹æ—…åŒ…æ‹¬çƒˆå£«çºªå¿µç¢‘ã€çº¢å†›æ¸¡å£ç­‰é©å‘½é—å€ï¼Œæ¯ä¸€å¤„éƒ½æœ‰ç€åŠ¨äººçš„å†å²æ•…äº‹... ğŸ›ï¸<br><br><span style="color: #10b981; cursor: pointer; text-decoration: underline;" onclick="jumpToSection(\'redTour\')">ğŸ“ ç‚¹æ­¤è·³è½¬çº¢è‰²ä¹‹æ—…åŒºåŸŸ</span>',
          tourTag:
            'æ¬¢è¿ä½“éªŒç²¾é€‰æ—…æ¸¸è·¯çº¿ï¼æœ‰è‡ªç„¶é£å…‰çº¿ã€æ–‡åŒ–ä½“éªŒçº¿ã€ç¾é£Ÿæ¢ç´¢çº¿ï¼Œå¸¦æ‚¨æ·±åº¦ä½“éªŒä¸œé‡Œæ‘é­…åŠ›... ğŸŒ¿<br><br><span style="color: #10b981; cursor: pointer; text-decoration: underline;" onclick="jumpToSection(\'tour\')">ğŸ“ ç‚¹æ­¤è·³è½¬æ¸¸è§ˆå¯¼è§ˆåŒºåŸŸ</span>',
          historyTag:
            'ä¸œé‡Œæ‘å†å²æ‚ ä¹…ï¼Œäººæ‰è¾ˆå‡ºï¼è¿™é‡Œæœ‰å†å²åäººã€ä¹¡è´¤å†ä»»å’Œä¼˜ç§€é’å¹´çš„ç²¾å½©æ•…äº‹... ğŸ“š<br><br><span style="color: #10b981; cursor: pointer; text-decoration: underline;" onclick="jumpToSection(\'history\')">ğŸ“ ç‚¹æ­¤è·³è½¬æ‘å²æ–‡åŒ–åŒºåŸŸ</span>',
          newsTag:
            'æœ€æ–°æ‘åŠ¡ä¿¡æ¯ï¼åŒ…æ‹¬æ‘å…¬å‘ŠæœåŠ¡ã€ä¹¡æ°‘é›†å¸‚ã€å†œå®¶è®¢å…»é¢„å®šç­‰ä¾¿æ°‘æœåŠ¡... ğŸ“¢<br><br><span style="color: #10b981; cursor: pointer; text-decoration: underline;" onclick="jumpToSection(\'news\')">ğŸ“ ç‚¹æ­¤è·³è½¬æ‘å­åŠ¨æ€åŒºåŸŸ</span>',
          serviceTag:
            'ä¹¡æ‘æœåŠ¡åŒ…æ‹¬ä¾¿æ°‘æœåŠ¡ã€å†œäº§å“é”€å”®ã€å¿«é€’ä»£æ”¶ã€ç”Ÿæ´»ç¼´è´¹ç­‰ä¸€ç«™å¼æœåŠ¡... ğŸª<br><br><span style="color: #10b981; cursor: pointer; text-decoration: underline;" onclick="jumpToSection(\'service\')">ğŸ“ ç‚¹æ­¤è·³è½¬ä¹¡æ‘æœåŠ¡åŒºåŸŸ</span>',
          cultureTag:
            'æ–‡åŒ–æ´»åŠ¨ä¸°å¯Œå¤šå½©ï¼æœ‰ä¼ ç»ŸèŠ‚åº†ã€æ°‘ä¿—è¡¨æ¼”ã€æ–‡è‰ºæ¼”å‡ºã€ä¹¦ç”»å±•è§ˆç­‰ç²¾å½©æ´»åŠ¨... ğŸ­<br><br><span style="color: #10b981; cursor: pointer; text-decoration: underline;" onclick="jumpToSection(\'culture\')">ğŸ“ ç‚¹æ­¤è·³è½¬æ–‡åŒ–æ´»åŠ¨åŒºåŸŸ</span>',
        };
        return responses[tagId] || 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼Œæˆ‘ä¼šä¸ºæ‚¨è¯¦ç»†ä»‹ç»ï¼';
      }

      // è·³è½¬åˆ°å¯¹åº”åŒºåŸŸ
      function jumpToSection(section) {
        const sectionUrls = {
          redTour: '#red-tour-section',
          tour: '#tour-guide-section', 
          history: '#village-history-section',
          news: '#village-news-section',
          service: '#village-service-section',
          culture: '#culture-activity-section'
        };
        
        // æ˜¾ç¤ºè·³è½¬æç¤º
        addAssistantMessage(`æ­£åœ¨ä¸ºæ‚¨è·³è½¬åˆ°${getSectionName(section)}é¡µé¢... ğŸš€`);
        
        // æ¨¡æ‹Ÿè·³è½¬ï¼ˆå®é™…é¡¹ç›®ä¸­å¯ä»¥è·³è½¬åˆ°å¯¹åº”é¡µé¢ï¼‰
        setTimeout(() => {
          addAssistantMessage(`å·²ä¸ºæ‚¨æ‰“å¼€${getSectionName(section)}è¯¦ç»†é¡µé¢ï¼æ‚¨å¯ä¿¡æ¯ã€‚`);
        }, 1500);
      }

      // è·å–åŒºåŸŸåç§°
      function getSectionName(section) {
        const names = {
          redTour: 'çº¢è‰²ä¹‹æ—…',
          tour: 'æ¸¸è§ˆå¯¼è§ˆ',
          history: 'æ‘å²æ–‡åŒ–', 
          news: 'æ‘å­åŠ¨æ€',
          service: 'ä¹¡æ‘æœåŠ¡',
          culture: 'æ–‡åŒ–æ´»åŠ¨'
        };
        return names[section] || 'ç›¸å…³';
      }

      // æ·»åŠ èŠå¤©æ¶ˆæ¯
      function addAssistantMessage(message) {
        const chatContent = document.getElementById('chatContent');
        const messageDiv = document.createElement('div');
        messageDiv.className = 'chat-bubble-assistant fade-in-up';
        messageDiv.innerHTML = `<p>${message}</p>`;
        chatContent.appendChild(messageDiv);
      }

      function addUserMessage(message) {
        const chatContent = document.getElementById('chatContent');
        const messageDiv = document.createElement('div');
        messageDiv.className = 'flex justify-end mb-2';
        messageDiv.innerHTML = `
                <div class="bg-gradient-to-r from-emerald-500 to-green-600 text-white rounded-full px-3 py-2 text-sm max-w-xs">
                    ${message}
                </div>
            `;
        chatContent.appendChild(messageDiv);
      }

      // å‘é€æ¶ˆæ¯
      function sendMessage() {
        const input = document.getElementById('textInput');
        if (input && input.style.display !== 'none') {
          const message = input.value.trim();
          if (message) {
            // æ˜¾ç¤ºèŠå¤©çª—å£
            document.getElementById('chatWindow').style.display = 'block';

            addUserMessage(message);
            input.value = '';

            setTimeout(() => {
              addAssistantMessage('æ”¶åˆ°æ‚¨çš„æ¶ˆæ¯ï¼æˆ‘æ¥ä¸ºæ‚¨è¯¦ç»†è§£ç­”... ğŸ˜Š');
            }, 1000);
          }
        }
      }

      function handleKeyPress(event) {
        if (event.key === 'Enter') {
          sendMessage();
        }
      }

      // é¡µé¢åŠ è½½å®Œæˆåå¼€å§‹ä»‹ç»
      window.addEventListener('load', () => {
        setTimeout(() => {
          startIntroduction();
        }, 1000);
      });
    </script>
  </body>
</html>
