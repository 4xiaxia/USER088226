<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ‘å®˜æ™ºèƒ½ä½“ - è½»æ¾æ¨¡å¼</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-8px);
        }
      }
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.8;
        }
      }
      .float {
        animation: float 4s ease-in-out infinite;
      }
      .pulse {
        animation: pulse 3s ease-in-out infinite;
      }

      /* èŠå¤©çª—å£æ ·å¼ */
      .chat-window {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 320px;
        max-height: 400px;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        border: 1px solid rgba(16, 185, 129, 0.2);
        transform: translateY(100%);
        transition: transform 0.3s ease;
      }

      .chat-window.open {
        transform: translateY(0);
      }

      .chat-bubble-user {
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
        border-radius: 18px 18px 4px 18px;
        padding: 10px 14px;
        margin: 8px 0;
        max-width: 80%;
        margin-left: auto;
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
      }

      .chat-bubble-assistant {
        background: rgba(248, 250, 252, 0.95);
        color: #374151;
        border-radius: 18px 18px 18px 4px;
        padding: 10px 14px;
        margin: 8px 0;
        max-width: 80%;
        border: 1px solid rgba(16, 185, 129, 0.2);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      /* æµ®åŠ¨åŠ©æ‰‹æŒ‰é’® */
      .floating-assistant {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 70px;
        height: 70px;
        background: linear-gradient(135deg, #10b981, #059669);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 8px 24px rgba(16, 185, 129, 0.4);
        transition: all 0.3s ease;
        z-index: 1000;
      }

      .floating-assistant:hover {
        transform: scale(1.1);
        box-shadow: 0 12px 32px rgba(16, 185, 129, 0.5);
      }

      .floating-assistant.chat-open {
        transform: scale(0.9);
        opacity: 0.7;
      }
    </style>
  </head>
  <body class="bg-gradient-to-br from-emerald-50 via-white to-teal-50 min-h-screen">
    <!-- ä¸»é¡µé¢å†…å®¹ -->
    <div class="max-w-md mx-auto min-h-screen relative overflow-hidden">
      <!-- èƒŒæ™¯è£…é¥° -->
      <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div
          class="absolute top-20 left-10 w-24 h-24 bg-emerald-100 rounded-full opacity-20 float"
        ></div>
        <div
          class="absolute bottom-32 right-16 w-20 h-20 bg-teal-100 rounded-full opacity-30 float"
          style="animation-delay: 1s"
        ></div>
        <div
          class="absolute top-1/2 left-1/4 w-16 h-16 bg-green-100 rounded-full opacity-15 float"
          style="animation-delay: 2s"
        ></div>
      </div>

      <!-- é¡¶éƒ¨æ¬¢è¿åŒºåŸŸ -->
      <div class="pt-12 pb-8 text-center">
        <h1 class="text-2xl font-bold text-gray-800 mb-2">æ¬¢è¿æ¥åˆ°ä¸œé‡Œæ‘ ğŸŒ¿</h1>
        <p class="text-gray-600 text-sm">æ¢ç´¢ç¾ä¸½ä¹¡æ‘ï¼Œæ„Ÿå—äººæ–‡é­…åŠ›</p>
      </div>

      <!-- ä¸»è¦åŠŸèƒ½åŒºåŸŸ -->
      <div class="px-6 space-y-6 pb-32">
        <!-- çº¢è‰²ä¹‹æ—… -->
        <div
          class="bg-gradient-to-r from-red-500 to-red-600 rounded-3xl p-6 text-white shadow-xl transform hover:scale-105 transition-all duration-300 cursor-pointer"
          onclick="navigateToSection('red-tour')"
        >
          <div class="flex items-center space-x-4">
            <div
              class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-3xl"
            >
              ğŸ›ï¸
            </div>
            <div class="flex-1">
              <h3 class="text-xl font-bold mb-1">çº¢è‰²ä¹‹æ—…</h3>
              <p class="text-red-100 text-sm">ä¼ æ‰¿é©å‘½ç²¾ç¥ï¼Œæ„Ÿå—çº¢è‰²æ–‡åŒ–</p>
              <div class="mt-2 flex space-x-2">
                <span class="bg-white/20 px-2 py-1 rounded-full text-xs">çƒˆå£«çºªå¿µç¢‘</span>
                <span class="bg-white/20 px-2 py-1 rounded-full text-xs">çº¢å†›æ¸¡å£</span>
              </div>
            </div>
          </div>
        </div>

        <!-- ä¼´ä½ æ¸¸ä¸œé‡Œ -->
        <div
          class="bg-gradient-to-r from-emerald-500 to-green-600 rounded-3xl p-6 text-white shadow-xl transform hover:scale-105 transition-all duration-300 cursor-pointer"
          onclick="navigateToSection('tour-guide')"
        >
          <div class="flex items-center space-x-4">
            <div
              class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-3xl"
            >
              ğŸŒ¿
            </div>
            <div class="flex-1">
              <h3 class="text-xl font-bold mb-1">ä¼´ä½ æ¸¸ä¸œé‡Œ</h3>
              <p class="text-emerald-100 text-sm">ç²¾é€‰è·¯çº¿æ¨èï¼Œç•…æ¸¸ç¾ä¸½ä¹¡æ‘</p>
              <div class="mt-2 flex space-x-2">
                <span class="bg-white/20 px-2 py-1 rounded-full text-xs">è‡ªç„¶é£å…‰</span>
                <span class="bg-white/20 px-2 py-1 rounded-full text-xs">æ–‡åŒ–ä½“éªŒ</span>
              </div>
            </div>
          </div>
        </div>

        <!-- èµ°è¿›ä¸œé‡Œ -->
        <div
          class="bg-gradient-to-r from-blue-500 to-indigo-600 rounded-3xl p-6 text-white shadow-xl transform hover:scale-105 transition-all duration-300 cursor-pointer"
          onclick="navigateToSection('village-story')"
        >
          <div class="flex items-center space-x-4">
            <div
              class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-3xl"
            >
              ğŸ“š
            </div>
            <div class="flex-1">
              <h3 class="text-xl font-bold mb-1">èµ°è¿›ä¸œé‡Œ</h3>
              <p class="text-blue-100 text-sm">å†å²åäºº Â· ä¹¡è´¤å†ä»» Â· ä¼˜ç§€é’å¹´</p>
              <div class="mt-2 flex space-x-2">
                <span class="bg-white/20 px-2 py-1 rounded-full text-xs">åäººå ‚</span>
                <span class="bg-white/20 px-2 py-1 rounded-full text-xs">æ‘å²</span>
              </div>
            </div>
          </div>
        </div>

        <!-- æ‘å­åŠ¨æ€ -->
        <div
          class="bg-gradient-to-r from-purple-500 to-pink-600 rounded-3xl p-6 text-white shadow-xl transform hover:scale-105 transition-all duration-300 cursor-pointer"
          onclick="navigateToSection('village-news')"
        >
          <div class="flex items-center space-x-4">
            <div
              class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-3xl"
            >
              ğŸ“¢
            </div>
            <div class="flex-1">
              <h3 class="text-xl font-bold mb-1">æ‘å­åŠ¨æ€</h3>
              <p class="text-purple-100 text-sm">æ‘å…¬å‘ŠæœåŠ¡ Â· ä¹¡æ°‘é›†å¸‚ Â· å†œå®¶è®¢å…»</p>
              <div class="mt-2 flex space-x-2">
                <span class="bg-white/20 px-2 py-1 rounded-full text-xs">æœ€æ–°å…¬å‘Š</span>
                <span class="bg-white/20 px-2 py-1 rounded-full text-xs">é›†å¸‚</span>
              </div>
            </div>
          </div>
        </div>

        <!-- å¿«æ·æœåŠ¡ -->
        <div class="grid grid-cols-2 gap-4">
          <div
            class="bg-white/80 backdrop-blur-sm rounded-2xl p-4 text-center shadow-lg border border-emerald-100 cursor-pointer hover:scale-105 transition-transform"
            onclick="showMap()"
          >
            <div class="text-2xl mb-2">ğŸ—ºï¸</div>
            <p class="text-sm font-medium text-gray-700">æ‘åº„åœ°å›¾</p>
          </div>
          <div
            class="bg-white/80 backdrop-blur-sm rounded-2xl p-4 text-center shadow-lg border border-emerald-100 cursor-pointer hover:scale-105 transition-transform"
            onclick="showWeather()"
          >
            <div class="text-2xl mb-2">ğŸŒ¤ï¸</div>
            <p class="text-sm font-medium text-gray-700">å¤©æ°”é¢„æŠ¥</p>
          </div>
        </div>
      </div>
    </div>

    <!-- æµ®åŠ¨æ™ºèƒ½åŠ©æ‰‹æŒ‰é’® -->
    <div class="floating-assistant" id="assistantBtn" onclick="toggleChat()">
      <div class="relative">
        <video
          src="./mp4/gif.mp4"
          class="w-12 h-12 rounded-full object-cover"
          muted
          loop
          playsinline
          autoplay
          preload="auto"
        ></video>
        <!-- æ¶ˆæ¯æç¤ºç‚¹ -->
        <div
          class="absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center"
        >
          <div class="w-2 h-2 bg-white rounded-full pulse"></div>
        </div>
      </div>
    </div>

    <!-- èŠå¤©çª—å£ -->
    <div class="chat-window" id="chatWindow">
      <!-- èŠå¤©å¤´éƒ¨ -->
      <div class="flex items-center justify-between p-4 border-b border-gray-100">
        <div class="flex items-center space-x-3">
          <div class="w-10 h-10 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-full p-1">
            <div class="w-full h-full bg-white rounded-full p-1">
              <video
                src="./mp4/gif.mp4"
                class="w-full h-full rounded-full object-cover"
                muted
                loop
                playsinline
                autoplay
                preload="auto"
              ></video>
            </div>
          </div>
          <div>
            <h4 class="font-medium text-gray-800">å°å¶å­</h4>
            <p class="text-xs text-emerald-600">åœ¨çº¿ä¸ºæ‚¨æœåŠ¡</p>
          </div>
        </div>
        <button
          onclick="toggleChat()"
          class="w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-gray-500 hover:bg-gray-200 transition-colors"
        >
          âœ•
        </button>
      </div>

      <!-- èŠå¤©å†…å®¹åŒºåŸŸ -->
      <div class="p-4 h-64 overflow-y-auto" id="chatContent">
        <div class="chat-bubble-assistant">
          <p class="text-sm">æ‚¨å¥½ï¼æˆ‘æ˜¯å°å¶å­ ğŸŒ¿</p>
          <p class="text-sm mt-1">æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©æ‚¨çš„å—ï¼Ÿ</p>
        </div>
      </div>

      <!-- è¾“å…¥åŒºåŸŸ -->
      <div class="p-4 border-t border-gray-100">
        <div class="flex items-center space-x-2">
          <input
            type="text"
            placeholder="è¾“å…¥æ¶ˆæ¯..."
            class="flex-1 bg-gray-50 border border-gray-200 rounded-full px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-300 focus:border-transparent"
            id="chatInput"
            onkeypress="handleChatKeyPress(event)"
          />
          <button
            onclick="sendChatMessage()"
            class="w-8 h-8 bg-emerald-500 rounded-full flex items-center justify-center text-white hover:bg-emerald-600 transition-colors"
          >
            â¤
          </button>
        </div>
      </div>
    </div>

    <script>
      let isChatOpen = false;

      // åˆ‡æ¢èŠå¤©çª—å£
      function toggleChat() {
        const chatWindow = document.getElementById('chatWindow');
        const assistantBtn = document.getElementById('assistantBtn');

        isChatOpen = !isChatOpen;

        if (isChatOpen) {
          chatWindow.classList.add('open');
          assistantBtn.classList.add('chat-open');
        } else {
          chatWindow.classList.remove('open');
          assistantBtn.classList.remove('chat-open');
        }
      }

      // å‘é€èŠå¤©æ¶ˆæ¯
      function sendChatMessage() {
        const input = document.getElementById('chatInput');
        const message = input.value.trim();
        if (message) {
          addChatMessage(message, 'user');
          input.value = '';

          // æ¨¡æ‹ŸAIå›å¤
          setTimeout(() => {
            addChatMessage('æ”¶åˆ°æ‚¨çš„æ¶ˆæ¯ï¼æˆ‘æ¥ä¸ºæ‚¨è§£ç­” ğŸ˜Š', 'assistant');
          }, 1000);
        }
      }

      function handleChatKeyPress(event) {
        if (event.key === 'Enter') {
          sendChatMessage();
        }
      }

      // æ·»åŠ èŠå¤©æ¶ˆæ¯
      function addChatMessage(message, sender) {
        const chatContent = document.getElementById('chatContent');
        const messageDiv = document.createElement('div');
        messageDiv.className = `chat-bubble-${sender}`;
        messageDiv.innerHTML = `<p class="text-sm">${message}</p>`;
        chatContent.appendChild(messageDiv);
        chatContent.scrollTop = chatContent.scrollHeight;
      }

      // å¯¼èˆªåŠŸèƒ½
      function navigateToSection(section) {
        // å…ˆæ‰“å¼€èŠå¤©çª—å£
        if (!isChatOpen) {
          toggleChat();
        }

        // æ·»åŠ ç›¸å…³æ¶ˆæ¯
        setTimeout(() => {
          addChatMessage(`æˆ‘æƒ³äº†è§£${getSectionName(section)}`, 'user');
          setTimeout(() => {
            addChatMessage(getSectionResponse(section), 'assistant');
          }, 1000);
        }, 500);
      }

      function getSectionName(section) {
        const names = {
          'red-tour': 'çº¢è‰²ä¹‹æ—…',
          'tour-guide': 'ä¼´ä½ æ¸¸ä¸œé‡Œ',
          'village-story': 'èµ°è¿›ä¸œé‡Œ',
          'village-news': 'æ‘å­åŠ¨æ€',
        };
        return names[section] || 'ç›¸å…³ä¿¡æ¯';
      }

      function getSectionResponse(section) {
        const responses = {
          'red-tour': 'ä¸ºæ‚¨æ¨èçº¢è‰²æ™¯ç‚¹è·¯çº¿ï¼åŒ…æ‹¬çƒˆå£«çºªå¿µç¢‘ã€çº¢å†›æ¸¡å£ç­‰å†å²é—è¿¹ ğŸ›ï¸',
          'tour-guide': 'ç²¾é€‰ä¸‰æ¡æ—…æ¸¸è·¯çº¿ï¼šè‡ªç„¶é£å…‰çº¿ã€æ–‡åŒ–ä½“éªŒçº¿ã€ç¾é£Ÿæ¢ç´¢çº¿ ğŸŒ¿',
          'village-story': 'ä¸œé‡Œæ‘å†å²æ‚ ä¹…ï¼Œæœ‰è®¸å¤šå†å²åäººå’Œä¹¡è´¤æ•…äº‹å€¼å¾—äº†è§£ ğŸ“š',
          'village-news': 'æœ€æ–°æ‘åŠ¡å…¬å‘Šã€ä¹¡æ°‘é›†å¸‚ä¿¡æ¯ã€å†œå®¶è®¢å…»æœåŠ¡éƒ½åœ¨è¿™é‡Œ ğŸ“¢',
        };
        return responses[section] || 'æ„Ÿè°¢æ‚¨çš„å’¨è¯¢ï¼Œæˆ‘ä¼šä¸ºæ‚¨è¯¦ç»†ä»‹ç»ï¼';
      }

      // å…¶ä»–åŠŸèƒ½
      function showMap() {
        alert('åœ°å›¾åŠŸèƒ½ ğŸ—ºï¸\\n\\nå°†æ˜¾ç¤ºæ‘åº„åœ°å›¾ï¼ŒåŒ…æ‹¬ï¼š\\nâ€¢ æ™¯ç‚¹æ ‡è®°\\nâ€¢ è·¯çº¿è§„åˆ’\\nâ€¢ å®æ—¶å¯¼èˆª');
      }

      function showWeather() {
        alert('å¤©æ°”é¢„æŠ¥ ğŸŒ¤ï¸\\n\\nä»Šæ—¥å¤©æ°”ï¼šæ™´æœ—\\næ¸©åº¦ï¼š22-28Â°C\\næ¹¿åº¦ï¼š65%\\né£åŠ›ï¼šå¾®é£');
      }
    </script>
  </body>
</html>
