<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ‘å®˜æ™ºèƒ½ä½“ - è½»æ¾å¯¹è¯</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
      }
      .float {
        animation: float 3s ease-in-out infinite;
      }
      .pulse {
        animation: pulse 2s ease-in-out infinite;
      }

      /* Landingé£æ ¼çš„è¾“å…¥æ¡† */
      .landing-input {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        border: 2px solid rgba(16, 185, 129, 0.2);
        border-radius: 25px;
        padding: 12px 20px;
        transition: all 0.3s ease;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      .landing-input:focus {
        outline: none;
        border-color: rgba(16, 185, 129, 0.5);
        box-shadow: 0 8px 32px rgba(16, 185, 129, 0.2);
      }

      .landing-btn {
        background: linear-gradient(135deg, #10b981, #059669);
        border-radius: 50%;
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 8px 24px rgba(16, 185, 129, 0.3);
      }

      .landing-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 32px rgba(16, 185, 129, 0.4);
      }

      .landing-btn:active {
        transform: scale(0.95);
      }

      /* èŠå¤©æ°”æ³¡ */
      .chat-bubble {
        max-width: 80%;
        padding: 12px 16px;
        border-radius: 20px;
        margin-bottom: 8px;
        word-wrap: break-word;
      }

      .chat-bubble-user {
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
        border-radius: 20px 20px 5px 20px;
        margin-left: auto;
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
      }

      .chat-bubble-assistant {
        background: rgba(255, 255, 255, 0.95);
        color: #374151;
        border-radius: 20px 20px 20px 5px;
        border: 1px solid rgba(16, 185, 129, 0.2);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      /* åŠŸèƒ½å¡ç‰‡ */
      .feature-card {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(16, 185, 129, 0.2);
        border-radius: 20px;
        padding: 16px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
      }

      .feature-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 32px rgba(16, 185, 129, 0.2);
        border-color: rgba(16, 185, 129, 0.4);
      }
    </style>
  </head>
  <body class="bg-gradient-to-br from-emerald-50 via-white to-teal-50 min-h-screen">
    <!-- ä¸»å®¹å™¨ -->
    <div class="max-w-md mx-auto min-h-screen relative overflow-hidden">
      <!-- èƒŒæ™¯è£…é¥° -->
      <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div
          class="absolute top-20 left-10 w-24 h-24 bg-emerald-100 rounded-full opacity-20 float"
        ></div>
        <div
          class="absolute bottom-32 right-16 w-20 h-20 bg-teal-100 rounded-full opacity-30 float"
          style="animation-delay: 1s"
        ></div>
        <div
          class="absolute top-1/2 left-1/4 w-16 h-16 bg-green-100 rounded-full opacity-15 float"
          style="animation-delay: 2s"
        ></div>
      </div>

      <!-- é¡¶éƒ¨æ‘å®˜åŒºåŸŸ -->
      <div class="pt-8 pb-4 text-center">
        <!-- æ‘å®˜å¤´åƒ -->
        <div class="relative mb-4">
          <div
            class="w-24 h-24 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-full p-1 shadow-xl pulse mx-auto"
          >
            <div class="w-full h-full bg-white rounded-full p-1">
              <video
                id="chiefAvatar"
                src="./mp4/gif.mp4"
                class="w-full h-full rounded-full object-cover"
                muted
                loop
                playsinline
                autoplay
                preload="auto"
              ></video>
            </div>
          </div>
          <!-- åœ¨çº¿çŠ¶æ€ -->
          <div
            class="absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-2 border-white flex items-center justify-center"
          >
            <div class="w-2 h-2 bg-white rounded-full pulse"></div>
          </div>
        </div>

        <h2 class="text-xl font-bold text-gray-800 mb-1">å°å¶å­ ğŸŒ¿</h2>
        <p class="text-sm text-emerald-600 font-medium">æ‚¨çš„ä¸“å±æ‘å®˜å¯¼æ¸¸</p>
      </div>

      <!-- èŠå¤©åŒºåŸŸ -->
      <div class="px-4 pb-32 space-y-4" id="chatArea">
        <!-- æ¬¢è¿æ¶ˆæ¯ -->
        <div class="flex justify-start">
          <div class="chat-bubble chat-bubble-assistant">
            <p class="text-sm">å“ˆå–½ï¼ä½ æ¥å•¦ï¼ğŸ¤© æˆ‘æ˜¯å°å¶å­ï¼Œä¸œé‡Œæ‘æœ€çƒ­æƒ…çš„æ•°å­—ç²¾çµå¯¼æ¸¸ï¼âœ¨</p>
            <p class="text-sm mt-2">æ¬¢è¿æ¥åˆ°æˆ‘ä»¬ç¾ä¸½çš„ä¸œé‡Œæ‘ï¼æœ‰ä»€ä¹ˆæƒ³çŸ¥é“çš„å°½ç®¡é—®æˆ‘å“¦ï¼ğŸŒ¸</p>
          </div>
        </div>

        <!-- å¿«æ·åŠŸèƒ½å¡ç‰‡ - é‡‡ç”¨landingçš„ç®€æ´é£æ ¼ -->
        <div class="grid grid-cols-2 gap-3 my-6">
          <div class="feature-card text-center" onclick="quickAction('çº¢è‰²ä¹‹æ—…')">
            <div class="text-2xl mb-2">ğŸ›ï¸</div>
            <p class="text-sm font-medium text-gray-700">çº¢è‰²ä¹‹æ—…</p>
          </div>

          <div class="feature-card text-center" onclick="quickAction('ä¼´ä½ æ¸¸ä¸œé‡Œ')">
            <div class="text-2xl mb-2">ğŸŒ¿</div>
            <p class="text-sm font-medium text-gray-700">ä¼´ä½ æ¸¸ä¸œé‡Œ</p>
          </div>

          <div class="feature-card text-center" onclick="quickAction('èµ°è¿›ä¸œé‡Œ')">
            <div class="text-2xl mb-2">ğŸ“š</div>
            <p class="text-sm font-medium text-gray-700">èµ°è¿›ä¸œé‡Œ</p>
          </div>

          <div class="feature-card text-center" onclick="quickAction('æ‘å­åŠ¨æ€')">
            <div class="text-2xl mb-2">ğŸ“¢</div>
            <p class="text-sm font-medium text-gray-700">æ‘å­åŠ¨æ€</p>
          </div>
        </div>

        <!-- ç¤ºä¾‹å¯¹è¯ -->
        <div class="flex justify-end">
          <div class="chat-bubble chat-bubble-user">
            <p class="text-sm">æˆ‘æƒ³äº†è§£ä¸€ä¸‹çº¢è‰²ä¹‹æ—…</p>
          </div>
        </div>

        <div class="flex justify-start">
          <div class="chat-bubble chat-bubble-assistant">
            <p class="text-sm">å¤ªå¥½äº†ï¼ä¸œé‡Œæ‘æœ‰ç€ä¸°å¯Œçš„é©å‘½å†å² ğŸ›ï¸</p>
            <p class="text-sm mt-2">æˆ‘ä¸ºæ‚¨æ¨èå‡ ä¸ªå¿…å»çš„çº¢è‰²æ™¯ç‚¹ï¼š</p>
            <div class="mt-3 space-y-2">
              <div class="bg-red-50 border border-red-200 rounded-lg p-2">
                <p class="text-xs font-medium text-red-800">çƒˆå£«çºªå¿µç¢‘</p>
                <p class="text-xs text-red-600">ç¼…æ€€é©å‘½å…ˆçƒˆ</p>
              </div>
              <div class="bg-red-50 border border-red-200 rounded-lg p-2">
                <p class="text-xs font-medium text-red-800">çº¢å†›æ¸¡å£</p>
                <p class="text-xs text-red-600">é‡èµ°çº¢å†›è·¯</p>
              </div>
            </div>
            <p class="text-sm mt-2">æ‚¨æƒ³å…ˆå»å“ªä¸ªåœ°æ–¹çœ‹çœ‹å‘¢ï¼ŸğŸ§­</p>
          </div>
        </div>
      </div>

      <!-- åº•éƒ¨è¾“å…¥åŒºåŸŸ - å®Œå…¨é‡‡ç”¨landingé£æ ¼ -->
      <div class="fixed bottom-0 left-0 right-0 max-w-md mx-auto">
        <div
          class="m-4 p-4 bg-white/90 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20"
        >
          <!-- è¾“å…¥æ¨¡å¼åˆ‡æ¢ -->
          <div class="flex justify-center mb-4" id="modeSelector">
            <div class="flex bg-gray-100 rounded-full p-1">
              <button
                class="px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 text-gray-600"
                id="voiceBtn"
                onclick="switchMode('voice')"
              >
                ğŸ¤ è¯­éŸ³
              </button>
              <button
                class="px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 bg-emerald-500 text-white"
                id="textBtn"
                onclick="switchMode('text')"
              >
                âŒ¨ï¸ é”®ç›˜
              </button>
            </div>
          </div>

          <!-- æ–‡å­—è¾“å…¥æ¨¡å¼ -->
          <div class="flex items-center space-x-3" id="textInput">
            <input
              type="text"
              placeholder="å’Œå°å¶å­èŠèŠ..."
              class="flex-1 landing-input text-sm"
              id="messageInput"
              onkeypress="handleKeyPress(event)"
            />
            <button class="landing-btn" onclick="sendMessage()">â¤</button>
          </div>

          <!-- è¯­éŸ³è¾“å…¥æ¨¡å¼ -->
          <div class="hidden" id="voiceInput">
            <div class="text-center">
              <div class="mb-3" id="voiceText"></div>
              <button
                class="w-full py-4 bg-gradient-to-r from-emerald-500 to-green-600 text-white rounded-full font-medium transition-all duration-300 hover:shadow-lg"
                id="voiceBtn"
                onclick="toggleVoice()"
              >
                ğŸ¤ ç‚¹å‡»è¯´è¯
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      let currentMode = 'text';
      let isListening = false;
      let recognition = null;

      // æ¨¡å¼åˆ‡æ¢
      function switchMode(mode) {
        currentMode = mode;
        const textInput = document.getElementById('textInput');
        const voiceInput = document.getElementById('voiceInput');
        const textBtn = document.getElementById('textBtn');
        const voiceBtn = document.getElementById('voiceBtn');

        if (mode === 'text') {
          textInput.classList.remove('hidden');
          voiceInput.classList.add('hidden');
          textBtn.classList.add('bg-emerald-500', 'text-white');
          textBtn.classList.remove('text-gray-600');
          voiceBtn.classList.remove('bg-emerald-500', 'text-white');
          voiceBtn.classList.add('text-gray-600');
        } else {
          textInput.classList.add('hidden');
          voiceInput.classList.remove('hidden');
          voiceBtn.classList.add('bg-emerald-500', 'text-white');
          voiceBtn.classList.remove('text-gray-600');
          textBtn.classList.remove('bg-emerald-500', 'text-white');
          textBtn.classList.add('text-gray-600');
        }
      }

      // å¿«æ·åŠŸèƒ½
      function quickAction(action) {
        addUserMessage(`æˆ‘æƒ³äº†è§£${action}`);
        setTimeout(() => {
          addAssistantMessage(getQuickResponse(action));
        }, 1000);
      }

      function getQuickResponse(action) {
        const responses = {
          çº¢è‰²ä¹‹æ—…: 'ä¸ºæ‚¨æ¨èçº¢è‰²æ™¯ç‚¹è·¯çº¿ï¼åŒ…æ‹¬çƒˆå£«çºªå¿µç¢‘ã€çº¢å†›æ¸¡å£ç­‰å†å²é—è¿¹ ğŸ›ï¸',
          ä¼´ä½ æ¸¸ä¸œé‡Œ: 'ç²¾é€‰ä¸‰æ¡æ—…æ¸¸è·¯çº¿ï¼šè‡ªç„¶é£å…‰çº¿ã€æ–‡åŒ–ä½“éªŒçº¿ã€ç¾é£Ÿæ¢ç´¢çº¿ ğŸŒ¿',
          èµ°è¿›ä¸œé‡Œ: 'ä¸œé‡Œæ‘å†å²æ‚ ä¹…ï¼Œæœ‰è®¸å¤šå†å²åäººå’Œä¹¡è´¤æ•…äº‹å€¼å¾—äº†è§£ ğŸ“š',
          æ‘å­åŠ¨æ€: 'æœ€æ–°æ‘åŠ¡å…¬å‘Šã€ä¹¡æ°‘é›†å¸‚ä¿¡æ¯ã€å†œå®¶è®¢å…»æœåŠ¡éƒ½åœ¨è¿™é‡Œ ğŸ“¢',
        };
        return responses[action] || 'æ„Ÿè°¢æ‚¨çš„å’¨è¯¢ï¼Œæˆ‘ä¼šä¸ºæ‚¨è¯¦ç»†ä»‹ç»ï¼';
      }

      // å‘é€æ¶ˆæ¯
      function sendMessage() {
        const input = document.getElementById('messageInput');
        const message = input.value.trim();
        if (message) {
          addUserMessage(message);
          input.value = '';

          // æ¨¡æ‹ŸAIå›å¤
          setTimeout(() => {
            addAssistantMessage('æ”¶åˆ°æ‚¨çš„æ¶ˆæ¯ï¼æˆ‘æ­£åœ¨ä¸ºæ‚¨æŸ¥æ‰¾ç›¸å…³ä¿¡æ¯... ğŸ¤”');
          }, 1000);
        }
      }

      function handleKeyPress(event) {
        if (event.key === 'Enter') {
          sendMessage();
        }
      }

      // è¯­éŸ³åŠŸèƒ½
      function toggleVoice() {
        if (isListening) {
          stopListening();
        } else {
          startListening();
        }
      }

      function startListening() {
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        if (SpeechRecognition) {
          recognition = new SpeechRecognition();
          recognition.lang = 'zh-CN';
          recognition.continuous = true;
          recognition.interimResults = true;

          recognition.onresult = (event) => {
            let transcript = '';
            for (let i = event.resultIndex; i < event.results.length; ++i) {
              transcript += event.results[i][0].transcript;
            }
            document.getElementById('voiceText').innerHTML =
              `<div class="chat-bubble chat-bubble-user text-sm">${transcript}</div>`;
          };

          recognition.onend = () => {
            isListening = false;
            updateVoiceButton();
          };

          recognition.start();
          isListening = true;
          updateVoiceButton();
        } else {
          alert('æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³è¾“å…¥åŠŸèƒ½');
        }
      }

      function stopListening() {
        if (recognition) {
          recognition.stop();
          const text = document.getElementById('voiceText').textContent;
          if (text.trim()) {
            addUserMessage(text.trim());
            document.getElementById('voiceText').innerHTML = '';
            setTimeout(() => {
              addAssistantMessage('æ”¶åˆ°æ‚¨çš„è¯­éŸ³æ¶ˆæ¯ï¼æˆ‘æ­£åœ¨å¤„ç†... ğŸ¤');
            }, 1000);
          }
        }
        isListening = false;
        updateVoiceButton();
      }

      function updateVoiceButton() {
        const btn = document.querySelector('#voiceInput button');
        if (isListening) {
          btn.innerHTML = 'ğŸ”´ ç‚¹å‡»å‘é€';
          btn.classList.add('bg-red-500');
          btn.classList.remove('from-emerald-500', 'to-green-600');
        } else {
          btn.innerHTML = 'ğŸ¤ ç‚¹å‡»è¯´è¯';
          btn.classList.remove('bg-red-500');
          btn.classList.add('bg-gradient-to-r', 'from-emerald-500', 'to-green-600');
        }
      }

      // æ·»åŠ æ¶ˆæ¯åˆ°èŠå¤©åŒºåŸŸ
      function addUserMessage(message) {
        const chatArea = document.getElementById('chatArea');
        const messageDiv = document.createElement('div');
        messageDiv.className = 'flex justify-end';
        messageDiv.innerHTML = `
                <div class="chat-bubble chat-bubble-user">
                    <p class="text-sm">${message}</p>
                </div>
            `;
        chatArea.appendChild(messageDiv);
        scrollToBottom();
      }

      function addAssistantMessage(message) {
        const chatArea = document.getElementById('chatArea');
        const messageDiv = document.createElement('div');
        messageDiv.className = 'flex justify-start';
        messageDiv.innerHTML = `
                <div class="chat-bubble chat-bubble-assistant">
                    <p class="text-sm">${message}</p>
                </div>
            `;
        chatArea.appendChild(messageDiv);
        scrollToBottom();
        
        // å¯¹è¯è¾“å‡ºæ—¶è‡ªåŠ¨æ’­æ”¾è§†é¢‘
        const video = document.getElementById('chiefAvatar');
        if (video && video.paused) {
          video.play().catch(err => {
            console.log('è§†é¢‘è‡ªåŠ¨æ’­æ”¾å¤±è´¥:', err);
          });
        }
      }

      function scrollToBottom() {
        window.scrollTo(0, document.body.scrollHeight);
      }
    </script>
  </body>
</html>
